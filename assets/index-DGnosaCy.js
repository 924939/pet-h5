import{M as H,g as De,t as K,N as Q,n as R,r as x,O as Ze,P as It,Q as Ge,o as ct,f as $,R as Tt,S as _e,d as ee,c as te,U as Ee,a as c,T as rt,V as ut,s as Pt,i as Y,l as We,W as Xe,q as ie,w as oe,b as O,j as ge,X as dt,F as $e,m as F,Y as Ot,k as le,H as At,I as ae,Z as ft,$ as Bt,a0 as Ae,a1 as Ke,a2 as Et,a3 as Vt,a4 as Rt,a5 as Ue,a6 as pe,a7 as Re,a8 as zt,a9 as Lt,aa as Mt,ab as qe,ac as $t,ad as pt,ae as Dt,af as vt,ag as Kt,ah as Nt,ai as jt,e as Be,aj as Yt,ak as Ft,al as Je,z as ne,am as Ut,an as Gt,ao as Wt,ap as Xt,aq as gt,ar as qt,h as Ht,as as Zt,at as Jt,au as Qt,av as en,aw as Qe,ax as tn,_ as nn,v as ke,x as g,A as fe,G as V,D as an,E as ve,C as Ne,ay as on,L as je,az as et,aA as Ye}from"./index-CRenupJw.js";import{L as mt,B as ln}from"./index-sMHqtZus.js";import{P as sn}from"./index-DV3F4xJo.js";function me(e){const t=De();t&&H(t.proxy,e)}let cn=2e3;const rn=()=>++cn,un={show:Boolean,zIndex:R,overlay:K,duration:R,teleport:[String,Object],lockScroll:K,lazyRender:K,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:Q,transitionAppear:Boolean,closeOnClickOverlay:K};function dn(e,t){return e>t?"horizontal":t>e?"vertical":""}function ht(){const e=x(0),t=x(0),o=x(0),s=x(0),l=x(0),a=x(0),b=x(""),r=x(!0),u=()=>b.value==="vertical",m=()=>b.value==="horizontal",i=()=>{o.value=0,s.value=0,l.value=0,a.value=0,b.value="",r.value=!0};return{move:(C=>{const k=C.touches[0];o.value=(k.clientX<0?0:k.clientX)-e.value,s.value=k.clientY-t.value,l.value=Math.abs(o.value),a.value=Math.abs(s.value);const w=10;(!b.value||l.value<w&&a.value<w)&&(b.value=dn(l.value,a.value)),r.value&&(l.value>Ze||a.value>Ze)&&(r.value=!1)}),start:(C=>{i(),e.value=C.touches[0].clientX,t.value=C.touches[0].clientY}),reset:i,startX:e,startY:t,deltaX:o,deltaY:s,offsetX:l,offsetY:a,direction:b,isVertical:u,isHorizontal:m,isTap:r}}let Pe=0;const tt="van-overflow-hidden";function fn(e,t){const o=ht(),s="01",l="10",a=i=>{o.move(i);const f=o.deltaY.value>0?l:s,d=Tt(i.target,e.value),{scrollHeight:C,offsetHeight:k,scrollTop:w}=d;let S="11";w===0?S=k>=C?"00":"01":w+k>=C&&(S="10"),S!=="11"&&o.isVertical()&&!(parseInt(S,2)&parseInt(f,2))&&_e(i,!0)},b=()=>{document.addEventListener("touchstart",o.start),document.addEventListener("touchmove",a,{passive:!1}),Pe||document.body.classList.add(tt),Pe++},r=()=>{Pe&&(document.removeEventListener("touchstart",o.start),document.removeEventListener("touchmove",a),Pe--,Pe||document.body.classList.remove(tt))},u=()=>t()&&b(),m=()=>t()&&r();It(u),Ge(m),ct(m),$(t,i=>{i?b():r()})}function bt(e){const t=x(!1);return $(e,o=>{o&&(t.value=o)},{immediate:!0}),o=>()=>t.value?o():null}const nt=()=>{var e;const{scopeId:t}=((e=De())==null?void 0:e.vnode)||{};return t?{[t]:""}:null},[vn,gn]=te("overlay"),mn={show:Boolean,zIndex:R,duration:R,className:Q,lockScroll:K,lazyRender:K,customStyle:Object,teleport:[String,Object]};var hn=ee({name:vn,inheritAttrs:!1,props:mn,setup(e,{attrs:t,slots:o}){const s=x(),l=bt(()=>e.show||!e.lazyRender),a=r=>{e.lockScroll&&_e(r,!0)},b=l(()=>{var r;const u=H(Pt(e.zIndex),e.customStyle);return Y(e.duration)&&(u.animationDuration=`${e.duration}s`),We(c("div",ie({ref:s,style:u,class:[gn(),e.className]},t),[(r=o.default)==null?void 0:r.call(o)]),[[Xe,e.show]])});return Ee("touchmove",a,{target:s}),()=>{const r=c(rt,{name:"van-fade",appear:!0},{default:b});return e.teleport?c(ut,{to:e.teleport},{default:()=>[r]}):r}}});const bn=oe(hn),yn=H({},un,{round:Boolean,position:F("center"),closeIcon:F("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:F("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[kn,at]=te("popup");var wn=ee({name:kn,inheritAttrs:!1,props:yn,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(e,{emit:t,attrs:o,slots:s}){let l,a;const b=x(),r=x(),u=bt(()=>e.show||!e.lazyRender),m=O(()=>{const T={zIndex:b.value};if(Y(e.duration)){const L=e.position==="center"?"animationDuration":"transitionDuration";T[L]=`${e.duration}s`}return T}),i=()=>{l||(l=!0,b.value=e.zIndex!==void 0?+e.zIndex:rn(),t("open"))},f=()=>{l&&Ot(e.beforeClose,{done(){l=!1,t("close"),t("update:show",!1)}})},d=T=>{t("clickOverlay",T),e.closeOnClickOverlay&&f()},C=()=>{if(e.overlay){const T=H({show:e.show,class:e.overlayClass,zIndex:b.value,duration:e.duration,customStyle:e.overlayStyle,role:e.closeOnClickOverlay?"button":void 0,tabindex:e.closeOnClickOverlay?0:void 0},e.overlayProps);return c(bn,ie(T,nt(),{onClick:d}),{default:s["overlay-content"]})}},k=T=>{t("clickCloseIcon",T),f()},w=()=>{if(e.closeable)return c(ae,{role:"button",tabindex:0,name:e.closeIcon,class:[at("close-icon",e.closeIconPosition),At],classPrefix:e.iconPrefix,onClick:k},null)};let S;const A=()=>{S&&clearTimeout(S),S=setTimeout(()=>{t("opened")})},N=()=>t("closed"),se=T=>t("keydown",T),U=u(()=>{var T;const{destroyOnClose:L,round:p,position:G,safeAreaInsetTop:W,safeAreaInsetBottom:X,show:v}=e;if(!(!v&&L))return We(c("div",ie({ref:r,style:m.value,role:"dialog",tabindex:0,class:[at({round:p,[G]:G}),{"van-safe-area-top":W,"van-safe-area-bottom":X}],onKeydown:se},o,nt()),[(T=s.default)==null?void 0:T.call(s),w()]),[[Xe,v]])}),z=()=>{const{position:T,transition:L,transitionAppear:p}=e,G=T==="center"?"van-fade":`van-popup-slide-${T}`;return c(rt,{name:L||G,appear:p,onAfterEnter:A,onAfterLeave:N},{default:U})};return $(()=>e.show,T=>{T&&!l&&(i(),o.tabindex===0&&le(()=>{var L;(L=r.value)==null||L.focus()})),!T&&l&&(l=!1,t("close"))}),me({popupRef:r}),fn(r,()=>e.show&&e.lockScroll),Ee("popstate",()=>{e.closeOnPopstate&&(f(),a=!1)}),ge(()=>{e.show&&i()}),dt(()=>{a&&(t("update:show",!0),a=!1)}),Ge(()=>{e.show&&e.teleport&&(f(),a=!0)}),ft(Bt,()=>e.show),()=>e.teleport?c(ut,{to:e.teleport},{default:()=>[C(),z()]}):c($e,null,[C(),z()])}});const yt=oe(wn);let Cn=0;function Sn(){const e=De(),{name:t="unknown"}=e?.type||{};return`${t}-${++Cn}`}const[kt,ze]=te("swipe"),_n={loop:K,width:R,height:R,vertical:Boolean,autoplay:Ae(0),duration:Ae(500),touchable:K,lazyRender:Boolean,initialSwipe:Ae(0),indicatorColor:String,showIndicators:K,stopPropagation:K},wt=Symbol(kt);var xn=ee({name:kt,props:_n,emits:["change","dragStart","dragEnd"],setup(e,{emit:t,slots:o}){const s=x(),l=x(),a=Ke({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let b=!1;const r=ht(),{children:u,linkChildren:m}=Et(wt),i=O(()=>u.length),f=O(()=>a[e.vertical?"height":"width"]),d=O(()=>e.vertical?r.deltaY.value:r.deltaX.value),C=O(()=>a.rect?(e.vertical?a.rect.height:a.rect.width)-f.value*i.value:0),k=O(()=>f.value?Math.ceil(Math.abs(C.value)/f.value):i.value),w=O(()=>i.value*f.value),S=O(()=>(a.active+i.value)%i.value),A=O(()=>{const y=e.vertical?"vertical":"horizontal";return r.direction.value===y}),N=O(()=>{const y={transitionDuration:`${a.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${+a.offset.toFixed(2)}px)`};if(f.value){const h=e.vertical?"height":"width",P=e.vertical?"width":"height";y[h]=`${w.value}px`,y[P]=e[P]?`${e[P]}px`:""}return y}),se=y=>{const{active:h}=a;return y?e.loop?pe(h+y,-1,i.value):pe(h+y,0,k.value):h},U=(y,h=0)=>{let P=y*f.value;e.loop||(P=Math.min(P,-C.value));let D=h-P;return e.loop||(D=pe(D,C.value,0)),D},z=({pace:y=0,offset:h=0,emitChange:P})=>{if(i.value<=1)return;const{active:D}=a,M=se(y),re=U(M,h);if(e.loop){if(u[0]&&re!==C.value){const n=re<C.value;u[0].setOffset(n?w.value:0)}if(u[i.value-1]&&re!==0){const n=re>0;u[i.value-1].setOffset(n?-w.value:0)}}a.active=M,a.offset=re,P&&M!==D&&t("change",S.value)},T=()=>{a.swiping=!0,a.active<=-1?z({pace:i.value}):a.active>=i.value&&z({pace:-i.value})},L=()=>{T(),r.reset(),Re(()=>{a.swiping=!1,z({pace:-1,emitChange:!0})})},p=()=>{T(),r.reset(),Re(()=>{a.swiping=!1,z({pace:1,emitChange:!0})})};let G;const W=()=>clearTimeout(G),X=()=>{W(),+e.autoplay>0&&i.value>1&&(G=setTimeout(()=>{p(),X()},+e.autoplay))},v=(y=+e.initialSwipe)=>{if(!s.value)return;const h=()=>{var P,D;if(!Ue(s)){const M={width:s.value.offsetWidth,height:s.value.offsetHeight};a.rect=M,a.width=+((P=e.width)!=null?P:M.width),a.height=+((D=e.height)!=null?D:M.height)}i.value&&(y=Math.min(i.value-1,y),y===-1&&(y=i.value-1)),a.active=y,a.swiping=!0,a.offset=U(y),u.forEach(M=>{M.setOffset(0)}),X()};Ue(s)?le().then(h):h()},he=()=>v(a.active);let be;const Z=y=>{!e.touchable||y.touches.length>1||(r.start(y),b=!1,be=Date.now(),W(),T())},xe=y=>{e.touchable&&a.swiping&&(r.move(y),A.value&&(!e.loop&&(a.active===0&&d.value>0||a.active===i.value-1&&d.value<0)||(_e(y,e.stopPropagation),z({offset:d.value}),b||(t("dragStart",{index:S.value}),b=!0))))},ye=()=>{if(!e.touchable||!a.swiping)return;const y=Date.now()-be,h=d.value/y;if((Math.abs(h)>.25||Math.abs(d.value)>f.value/2)&&A.value){const D=e.vertical?r.offsetY.value:r.offsetX.value;let M=0;e.loop?M=D>0?d.value>0?-1:1:0:M=-Math[d.value>0?"ceil":"floor"](d.value/f.value),z({pace:M,emitChange:!0})}else d.value&&z({pace:0});b=!1,a.swiping=!1,t("dragEnd",{index:S.value}),X()},ce=(y,h={})=>{T(),r.reset(),Re(()=>{let P;e.loop&&y===i.value?P=a.active===0?0:y:P=y%i.value,h.immediate?Re(()=>{a.swiping=!1}):a.swiping=!1,z({pace:P-a.active,emitChange:!0})})},Ie=(y,h)=>{const P=h===S.value,D=P?{backgroundColor:e.indicatorColor}:void 0;return c("i",{style:D,class:ze("indicator",{active:P})},null)},Te=()=>{if(o.indicator)return o.indicator({active:S.value,total:i.value});if(e.showIndicators&&i.value>1)return c("div",{class:ze("indicators",{vertical:e.vertical})},[Array(i.value).fill("").map(Ie)])};return me({prev:L,next:p,state:a,resize:he,swipeTo:ce}),m({size:f,props:e,count:i,activeIndicator:S}),$(()=>e.initialSwipe,y=>v(+y)),$(i,()=>v(a.active)),$(()=>e.autoplay,X),$([zt,Lt,()=>e.width,()=>e.height],he),$(Vt(),y=>{y==="visible"?X():W()}),ge(v),dt(()=>v(a.active)),Rt(()=>v(a.active)),Ge(W),ct(W),Ee("touchmove",xe,{target:l}),()=>{var y;return c("div",{ref:s,class:ze()},[c("div",{ref:l,style:N.value,class:ze("track",{vertical:e.vertical}),onTouchstartPassive:Z,onTouchend:ye,onTouchcancel:ye},[(y=o.default)==null?void 0:y.call(o)]),Te()])}}});const In=oe(xn),Tn=Symbol(),Pn=()=>Mt(Tn,null),[On,An]=te("swipe-item");var Bn=ee({name:On,setup(e,{slots:t}){let o;const s=Ke({offset:0,inited:!1,mounted:!1}),{parent:l,index:a}=qe(wt);if(!l)return;const b=O(()=>{const m={},{vertical:i}=l.props;return l.size.value&&(m[i?"height":"width"]=`${l.size.value}px`),s.offset&&(m.transform=`translate${i?"Y":"X"}(${s.offset}px)`),m}),r=O(()=>{const{loop:m,lazyRender:i}=l.props;if(!i||o)return!0;if(!s.mounted)return!1;const f=l.activeIndicator.value,d=l.count.value-1,C=f===0&&m?d:f-1,k=f===d&&m?0:f+1;return o=a.value===f||a.value===C||a.value===k,o}),u=m=>{s.offset=m};return ge(()=>{le(()=>{s.mounted=!0})}),me({setOffset:u}),()=>{var m;return c("div",{class:An(),style:b.value},[r.value?(m=t.default)==null?void 0:m.call(t):null])}}});const En=oe(Bn),[Vn,we]=te("cell"),Ct={tag:F("div"),icon:String,size:String,title:R,value:R,label:R,center:Boolean,isLink:Boolean,border:K,iconPrefix:String,valueClass:Q,labelClass:Q,titleClass:Q,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},Rn=H({},Ct,pt);var zn=ee({name:Vn,props:Rn,setup(e,{slots:t}){const o=$t(),s=()=>{if(t.label||Y(e.label))return c("div",{class:[we("label"),e.labelClass]},[t.label?t.label():e.label])},l=()=>{var u;if(t.title||Y(e.title)){const m=(u=t.title)==null?void 0:u.call(t);return Array.isArray(m)&&m.length===0?void 0:c("div",{class:[we("title"),e.titleClass],style:e.titleStyle},[m||c("span",null,[e.title]),s()])}},a=()=>{const u=t.value||t.default;if(u||Y(e.value))return c("div",{class:[we("value"),e.valueClass]},[u?u():c("span",null,[e.value])])},b=()=>{if(t.icon)return t.icon();if(e.icon)return c(ae,{name:e.icon,class:we("left-icon"),classPrefix:e.iconPrefix},null)},r=()=>{if(t["right-icon"])return t["right-icon"]();if(e.isLink){const u=e.arrowDirection&&e.arrowDirection!=="right"?`arrow-${e.arrowDirection}`:"arrow";return c(ae,{name:u,class:we("right-icon")},null)}};return()=>{var u;const{tag:m,size:i,center:f,border:d,isLink:C,required:k}=e,w=(u=e.clickable)!=null?u:C,S={center:f,required:!!k,clickable:w,borderless:!d};return i&&(S[i]=!!i),c(m,{class:we(S),role:w?"button":void 0,tabindex:w?0:void 0,onClick:o},{default:()=>{var A;return[b(),l(),a(),r(),(A=t.extra)==null?void 0:A.call(t)]}})}}});const Ln=oe(zn);function St(e){return Array.isArray(e)?!e.length:e===0?!1:!e}function Mn(e,t){if(St(e)){if(t.required)return!1;if(t.validateEmpty===!1)return!0}return!(t.pattern&&!t.pattern.test(String(e)))}function $n(e,t){return new Promise(o=>{const s=t.validator(e,t);if(jt(s)){s.then(o);return}o(s)})}function ot(e,t){const{message:o}=t;return Nt(o)?o(e,t):o||""}function pn({target:e}){e.composing=!0}function lt({target:e}){e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}function Dn(e,t){const o=Dt();e.style.height="auto";let s=e.scrollHeight;if(vt(t)){const{maxHeight:l,minHeight:a}=t;l!==void 0&&(s=Math.min(s,l)),a!==void 0&&(s=Math.max(s,a))}s&&(e.style.height=`${s}px`,Kt(o))}function Kn(e,t){return e==="number"&&(e="text",t??(t="decimal")),e==="digit"&&(e="tel",t??(t="numeric")),{type:e,inputmode:t}}function Le(e){return[...e].length}function Fe(e,t){return[...e].slice(0,t).join("")}const[Nn,j]=te("field"),jn={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:R,max:Number,min:Number,formatter:Function,clearIcon:F("clear"),modelValue:Ae(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:F("focus"),formatTrigger:F("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},Yn=H({},Ct,jn,{rows:R,type:F("text"),rules:Array,autosize:[Boolean,Object],labelWidth:R,labelClass:Q,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var Fn=ee({name:Nn,props:Yn,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:t,slots:o}){const s=Sn(),l=Ke({status:"unvalidated",focused:!1,validateMessage:""}),a=x(),b=x(),r=x(),{parent:u}=qe(Ft),m=()=>{var n;return String((n=e.modelValue)!=null?n:"")},i=n=>{if(Y(e[n]))return e[n];if(u&&Y(u.props[n]))return u.props[n]},f=O(()=>{const n=i("readonly");if(e.clearable&&!n){const _=m()!=="",I=e.clearTrigger==="always"||e.clearTrigger==="focus"&&l.focused;return _&&I}return!1}),d=O(()=>r.value&&o.input?r.value():e.modelValue),C=O(()=>{var n;const _=i("required");return _==="auto"?(n=e.rules)==null?void 0:n.some(I=>I.required):_}),k=n=>n.reduce((_,I)=>_.then(()=>{if(l.status==="failed")return;let{value:B}=d;if(I.formatter&&(B=I.formatter(B,I)),!Mn(B,I)){l.status="failed",l.validateMessage=ot(B,I);return}if(I.validator)return St(B)&&I.validateEmpty===!1?void 0:$n(B,I).then(E=>{E&&typeof E=="string"?(l.status="failed",l.validateMessage=E):E===!1&&(l.status="failed",l.validateMessage=ot(B,I))})}),Promise.resolve()),w=()=>{l.status="unvalidated",l.validateMessage=""},S=()=>t("endValidate",{status:l.status,message:l.validateMessage}),A=(n=e.rules)=>new Promise(_=>{w(),n?(t("startValidate"),k(n).then(()=>{l.status==="failed"?(_({name:e.name,message:l.validateMessage}),S()):(l.status="passed",_(),S())})):_()}),N=n=>{if(u&&e.rules){const{validateTrigger:_}=u.props,I=Je(_).includes(n),B=e.rules.filter(E=>E.trigger?Je(E.trigger).includes(n):I);B.length&&A(B)}},se=n=>{var _;const{maxlength:I}=e;if(Y(I)&&Le(n)>+I){const B=m();if(B&&Le(B)===+I)return B;const E=(_=a.value)==null?void 0:_.selectionEnd;if(l.focused&&E){const ue=[...n],de=ue.length-+I;return ue.splice(E-de,de),ue.join("")}return Fe(n,+I)}return n},U=(n,_="onChange")=>{var I,B;const E=n;n=se(n);const ue=E.length-n.length;if(e.type==="number"||e.type==="digit"){const J=e.type==="number";if(n=Yt(n,J,J),_==="onBlur"&&n!==""&&(e.min!==void 0||e.max!==void 0)){const q=pe(+n,(I=e.min)!=null?I:-1/0,(B=e.max)!=null?B:1/0);+n!==q&&(n=q.toString())}}let de=0;if(e.formatter&&_===e.formatTrigger){const{formatter:J,maxlength:q}=e;if(n=J(n),Y(q)&&Le(n)>+q&&(n=Fe(n,+q)),a.value&&l.focused){const{selectionEnd:Ve}=a.value,He=Fe(E,Ve);de=J(He).length-He.length}}if(a.value&&a.value.value!==n)if(l.focused){let{selectionStart:J,selectionEnd:q}=a.value;if(a.value.value=n,Y(J)&&Y(q)){const Ve=n.length;ue?(J-=ue,q-=ue):de&&(J+=de,q+=de),a.value.setSelectionRange(Math.min(J,Ve),Math.min(q,Ve))}}else a.value.value=n;n!==e.modelValue&&t("update:modelValue",n)},z=n=>{n.target.composing||U(n.target.value)},T=()=>{var n;return(n=a.value)==null?void 0:n.blur()},L=()=>{var n;return(n=a.value)==null?void 0:n.focus()},p=()=>{const n=a.value;e.type==="textarea"&&e.autosize&&n&&Dn(n,e.autosize)},G=n=>{l.focused=!0,t("focus",n),le(p),i("readonly")&&T()},W=n=>{l.focused=!1,U(m(),"onBlur"),t("blur",n),!i("readonly")&&(N("onBlur"),le(p),Ut())},X=n=>t("clickInput",n),v=n=>t("clickLeftIcon",n),he=n=>t("clickRightIcon",n),be=n=>{_e(n),t("update:modelValue",""),t("clear",n)},Z=O(()=>{if(typeof e.error=="boolean")return e.error;if(u&&u.props.showError&&l.status==="failed")return!0}),xe=O(()=>{const n=i("labelWidth"),_=i("labelAlign");if(n&&_!=="top")return{width:Be(n)}}),ye=n=>{n.keyCode===13&&(!(u&&u.props.submitOnEnter)&&e.type!=="textarea"&&_e(n),e.type==="search"&&T()),t("keypress",n)},ce=()=>e.id||`${s}-input`,Ie=()=>l.status,Te=()=>{const n=j("control",[i("inputAlign"),{error:Z.value,custom:!!o.input,"min-height":e.type==="textarea"&&!e.autosize}]);if(o.input)return c("div",{class:n,onClick:X},[o.input()]);const _={id:ce(),ref:a,name:e.name,rows:e.rows!==void 0?+e.rows:void 0,class:n,disabled:i("disabled"),readonly:i("readonly"),autofocus:e.autofocus,placeholder:e.placeholder,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,autocorrect:e.autocorrect,enterkeyhint:e.enterkeyhint,spellcheck:e.spellcheck,"aria-labelledby":e.label?`${s}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:W,onFocus:G,onInput:z,onClick:X,onChange:lt,onKeypress:ye,onCompositionend:lt,onCompositionstart:pn};return e.type==="textarea"?c("textarea",ie(_,{inputmode:e.inputmode}),null):c("input",ie(Kn(e.type,e.inputmode),_),null)},y=()=>{const n=o["left-icon"];if(e.leftIcon||n)return c("div",{class:j("left-icon"),onClick:v},[n?n():c(ae,{name:e.leftIcon,classPrefix:e.iconPrefix},null)])},h=()=>{const n=o["right-icon"];if(e.rightIcon||n)return c("div",{class:j("right-icon"),onClick:he},[n?n():c(ae,{name:e.rightIcon,classPrefix:e.iconPrefix},null)])},P=()=>{if(e.showWordLimit&&e.maxlength){const n=Le(m());return c("div",{class:j("word-limit")},[c("span",{class:j("word-num")},[n]),ne("/"),e.maxlength])}},D=()=>{if(u&&u.props.showErrorMessage===!1)return;const n=e.errorMessage||l.validateMessage;if(n){const _=o["error-message"],I=i("errorMessageAlign");return c("div",{class:j("error-message",I)},[_?_({message:n}):n])}},M=()=>{const n=i("labelWidth"),_=i("labelAlign"),I=i("colon")?":":"";if(o.label)return[o.label(),I];if(e.label)return c("label",{id:`${s}-label`,for:o.input?void 0:ce(),"data-allow-mismatch":"attribute",onClick:B=>{_e(B),L()},style:_==="top"&&n?{width:Be(n)}:void 0},[e.label+I])},re=()=>[c("div",{class:j("body")},[Te(),f.value&&c(ae,{ref:b,name:e.clearIcon,class:j("clear")},null),h(),o.button&&c("div",{class:j("button")},[o.button()])]),P(),D()];return me({blur:T,focus:L,validate:A,formValue:d,resetValidation:w,getValidationStatus:Ie}),ft(Gt,{customValue:r,resetValidation:w,validateWithTrigger:N}),$(()=>e.modelValue,()=>{U(m()),w(),N("onChange"),le(p)}),ge(()=>{U(m(),e.formatTrigger),le(p)}),Ee("touchstart",be,{target:O(()=>{var n;return(n=b.value)==null?void 0:n.$el})}),()=>{const n=i("disabled"),_=i("labelAlign"),I=y(),B=()=>{const E=M();return _==="top"?[I,E].filter(Boolean):E||[]};return c(Ln,{size:e.size,class:j({error:Z.value,disabled:n,[`label-${_}`]:_}),center:e.center,border:e.border,isLink:e.isLink,clickable:e.clickable,titleStyle:xe.value,valueClass:j("value"),titleClass:[j("label",[_,{required:C.value}]),e.labelClass],arrowDirection:e.arrowDirection},{icon:I&&_!=="top"?()=>I:null,title:B,value:re,extra:o.extra})}}});const Un=oe(Fn);let Oe=0;function Gn(e){e?(Oe||document.body.classList.add("van-toast--unclickable"),Oe++):Oe&&(Oe--,Oe||document.body.classList.remove("van-toast--unclickable"))}const[Wn,Ce]=te("toast"),Xn=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],qn={icon:String,show:Boolean,type:F("text"),overlay:Boolean,message:R,iconSize:R,duration:Wt(2e3),position:F("middle"),teleport:[String,Object],wordBreak:String,className:Q,iconPrefix:String,transition:F("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:Q,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:R};var _t=ee({name:Wn,props:qn,emits:["update:show"],setup(e,{emit:t,slots:o}){let s,l=!1;const a=()=>{const f=e.show&&e.forbidClick;l!==f&&(l=f,Gn(l))},b=f=>t("update:show",f),r=()=>{e.closeOnClick&&b(!1)},u=()=>clearTimeout(s),m=()=>{const{icon:f,type:d,iconSize:C,iconPrefix:k,loadingType:w}=e;if(f||d==="success"||d==="fail")return c(ae,{name:f||d,size:C,class:Ce("icon"),classPrefix:k},null);if(d==="loading")return c(mt,{class:Ce("loading"),size:C,type:w},null)},i=()=>{const{type:f,message:d}=e;if(o.message)return c("div",{class:Ce("text")},[o.message()]);if(Y(d)&&d!=="")return f==="html"?c("div",{key:0,class:Ce("text"),innerHTML:String(d)},null):c("div",{class:Ce("text")},[d])};return $(()=>[e.show,e.forbidClick],a),$(()=>[e.show,e.type,e.message,e.duration],()=>{u(),e.show&&e.duration>0&&(s=setTimeout(()=>{b(!1)},e.duration))}),ge(a),Xt(a),()=>c(yt,ie({class:[Ce([e.position,e.wordBreak==="normal"?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:r,onClosed:u,"onUpdate:show":b},gt(e,Xn)),{default:()=>[m(),i()]})}});function Hn(){const e=Ke({show:!1}),t=l=>{e.show=l},o=l=>{H(e,l,{transitionAppear:!0}),t(!0)},s=()=>t(!1);return me({open:o,close:s,toggle:t}),{open:o,close:s,state:e,toggle:t}}function Zn(e){const t=qt(e),o=document.createElement("div");return document.body.appendChild(o),{instance:t.mount(o),unmount(){t.unmount(),document.body.removeChild(o)}}}const Jn={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Me=[],Qn=!1,it=H({},Jn);const ea=new Map;function ta(e){return vt(e)?e:{message:e}}function na(){const{instance:e}=Zn({setup(){const t=x(""),{open:o,state:s,close:l,toggle:a}=Hn(),b=()=>{},r=()=>c(_t,ie(s,{onClosed:b,"onUpdate:show":a}),null);return $(t,u=>{s.message=u}),De().render=r,{open:o,close:l,message:t}}});return e}function aa(){if(!Me.length||Qn){const e=na();Me.push(e)}return Me[Me.length-1]}function st(e={}){if(!Ht)return{};const t=aa(),o=ta(e);return t.open(H({},it,ea.get(o.type||it.type),o)),t}oe(_t);const[oa]=te("checkbox-group"),la=Symbol(oa),xt={name:Q,disabled:Boolean,iconSize:R,modelValue:Q,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var ia=ee({props:H({},xt,{bem:Zt(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:K,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:t,slots:o}){const s=x(),l=d=>{if(e.parent&&e.bindGroup)return e.parent.props[d]},a=O(()=>{if(e.parent&&e.bindGroup){const d=l("disabled")||e.disabled;if(e.role==="checkbox"){const C=l("modelValue").length,k=l("max"),w=k&&C>=+k;return d||w&&!e.checked}return d}return e.disabled}),b=O(()=>l("direction")),r=O(()=>{const d=e.checkedColor||l("checkedColor");if(d&&(e.checked||e.indeterminate)&&!a.value)return{borderColor:d,backgroundColor:d}}),u=O(()=>e.shape||l("shape")||"round"),m=d=>{const{target:C}=d,k=s.value,w=k===C||k?.contains(C);!a.value&&(w||!e.labelDisabled)&&t("toggle"),t("click",d)},i=()=>{var d,C;const{bem:k,checked:w,indeterminate:S}=e,A=e.iconSize||l("iconSize");return c("div",{ref:s,class:k("icon",[u.value,{disabled:a.value,checked:w,indeterminate:S}]),style:u.value!=="dot"?{fontSize:Be(A)}:{width:Be(A),height:Be(A),borderColor:(d=r.value)==null?void 0:d.borderColor}},[o.icon?o.icon({checked:w,disabled:a.value}):u.value!=="dot"?c(ae,{name:S?"minus":"success",style:r.value},null):c("div",{class:k("icon--dot__icon"),style:{backgroundColor:(C=r.value)==null?void 0:C.backgroundColor}},null)])},f=()=>{const{checked:d}=e;if(o.default)return c("span",{class:e.bem("label",[e.labelPosition,{disabled:a.value}])},[o.default({checked:d,disabled:a.value})])};return()=>{const d=e.labelPosition==="left"?[f(),i()]:[i(),f()];return c("div",{role:e.role,class:e.bem([{disabled:a.value,"label-disabled":e.labelDisabled},b.value]),tabindex:a.value?void 0:0,"aria-checked":e.checked,onClick:m},[d])}}});const[sa,ca]=te("checkbox"),ra=H({},xt,{shape:String,bindGroup:K,indeterminate:{type:Boolean,default:null}});var ua=ee({name:sa,props:ra,emits:["change","update:modelValue"],setup(e,{emit:t,slots:o}){const{parent:s}=qe(la),l=r=>{const{name:u}=e,{max:m,modelValue:i}=s.props,f=i.slice();if(r)!(m&&f.length>=+m)&&!f.includes(u)&&(f.push(u),e.bindGroup&&s.updateValue(f));else{const d=f.indexOf(u);d!==-1&&(f.splice(d,1),e.bindGroup&&s.updateValue(f))}},a=O(()=>s&&e.bindGroup?s.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),b=(r=!a.value)=>{s&&e.bindGroup?l(r):t("update:modelValue",r),e.indeterminate!==null&&t("change",r)};return $(()=>e.modelValue,r=>{e.indeterminate===null&&t("change",r)}),me({toggle:b,props:e,checked:a}),Jt(()=>e.modelValue),()=>c(ia,ie({bem:ca,role:"checkbox",parent:s,checked:a.value,onToggle:b},e),gt(o,["default","icon"]))}});const da=oe(ua),[fa,Se,va]=te("list"),ga={error:Boolean,offset:Ae(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:F("down"),loadingText:{type:String,default:""},finishedText:String,immediateCheck:K};var ma=ee({name:fa,props:ga,emits:["load","update:error","update:loading"],setup(e,{emit:t,slots:o}){const s=x(e.loading),l=x(),a=x(),b=Pn(),r=Qt(l),u=O(()=>e.scroller||r.value),m=()=>{le(()=>{if(s.value||e.finished||e.disabled||e.error||b?.value===!1)return;const{direction:k}=e,w=+e.offset,S=Qe(u);if(!S.height||Ue(l))return;let A=!1;const N=Qe(a);k==="up"?A=S.top-N.top<=w:A=N.bottom-S.bottom<=w,A&&(s.value=!0,t("update:loading",!0),t("load"))})},i=()=>{if(e.finished){const k=o.finished?o.finished():e.finishedText;if(k)return c("div",{class:Se("finished-text")},[k])}},f=()=>{t("update:error",!1),m()},d=()=>{if(e.error){const k=o.error?o.error():e.errorText;if(k)return c("div",{role:"button",class:Se("error-text"),tabindex:0,onClick:f},[k])}},C=()=>{if(s.value&&!e.finished&&!e.disabled)return c("div",{class:Se("loading")},[o.loading?o.loading():e.loadingText!=null&&c(mt,{class:Se("loading-icon")},{default:()=>[e.loadingText||va("loading")]})])};return $(()=>[e.loading,e.finished,e.error],m),b&&$(b,k=>{k&&m()}),en(()=>{s.value=e.loading}),ge(()=>{e.immediateCheck&&m()}),me({check:m}),Ee("scroll",m,{target:u,passive:!0}),()=>{var k;const w=(k=o.default)==null?void 0:k.call(o),S=c("div",{ref:a,class:Se("placeholder")},null);return c("div",{ref:l,role:"feed",class:Se(),"aria-busy":s.value},[e.direction==="down"?w:S,C(),i(),d(),e.direction==="up"?w:S])}}});const ha=oe(ma),ba=tn("support",{state:()=>({rewards:[{key:"p",label:"100 积分",amount:10,foodKg:2,foodType:"狗粮",count:1},{key:"10",label:"¥10",amount:10,foodKg:2,foodType:"狗粮",count:1},{key:"20",label:"¥20",amount:20,foodKg:4,foodType:"猫粮",count:1},{key:"30",label:"¥20",amount:20,foodKg:4,foodType:"猫粮",count:1},{key:"40",label:"¥20",amount:20,foodKg:4,foodType:"猫粮",count:1},{key:"50",label:"¥20",amount:20,foodKg:4,foodType:"猫粮",count:1},{key:"60",label:"¥20",amount:20,foodKg:4,foodType:"猫粮",count:1}],selectedKey:"p"}),getters:{selectedReward(e){return e.rewards.find(t=>t.key===e.selectedKey)},totalAmount(){return this.selectedReward?this.selectedReward.amount*this.selectedReward.count:0}},actions:{selectReward(e){this.selectedKey=e.key},changeCount(e,t){e.count+t<1||(e.count+=t)}}}),ya=["src"],ka={class:"card"},wa={class:"title-row"},Ca={class:"title"},Sa={class:"auth"},_a={class:"progress-info"},xa={class:"money"},Ia={class:"percent"},Ta={class:"support-count"},Pa={class:"card"},Oa={class:"desc"},Aa={class:"card"},Ba={class:"verify-header"},Ea={class:"card"},Va=["src"],Ra={class:"support-info"},za={class:"support-top"},La={class:"nickname"},Ma={class:"level"},$a={class:"amount"},pa={class:"comment"},Da={class:"bottom-bar"},Ka={class:"popup"},Na={class:"popup-content"},ja={class:"points"},Ya=["onClick"],Fa={class:"reward-price"},Ua={class:"reward-food"},Ga={class:"donate-bar"},Wa={class:"donate-info"},Xa={class:"donate-amount"},qa={__name:"index",setup(e){const t=an(),o=ba(),s=x(null),l=x(!1),a=()=>{l.value=s.value.scrollTop>400},b=()=>{s.value.scrollTo({top:0,behavior:"smooth"})},r=x({name:"流浪动物救助基地",targetAmount:5e4,currentAmount:18600,desc:"基地长期致力于流浪动物的救助、治疗和领养。",images:["https://picsum.photos/400/300?1","https://picsum.photos/400/300?2"]}),u=x(r.value.currentAmount),m=O(()=>Math.floor(u.value/r.value.targetAmount*100)),i=x([]),f=x(!1),d=x(!1),C=x(48),k=()=>{setTimeout(()=>{i.value.push(...new Array(10).fill(0).map(()=>({avatar:"https://fastly.jsdelivr.net/npm/@vant/assets/cat.jpeg",nickname:"爱心用户",level:Math.ceil(Math.random()*6),amount:[10,20,30][Math.floor(Math.random()*3)],comment:"愿毛孩子都能被温柔以待"}))),f.value=!1,i.value.length>=C.value&&(d.value=!0)},600)},w=x(!1),S=x(""),A=x(!1),N=x(null),se=x(320),U=O(()=>o.rewards),z=O(()=>o.selectedKey),T=O(()=>o.totalAmount),L=o.selectReward,p=o.changeCount,G=()=>{if(!A.value){st({message:"请先阅读并同意公益支持协议",duration:2e3}),N.value?.scrollIntoView({behavior:"smooth",block:"center"});return}t.push("/project")},W=()=>{st("查看认证详情")};return ge(k),(X,v)=>{const he=En,be=In,Z=ae,xe=sn,ye=ha,ce=ln,Ie=Un,Te=da,y=yt;return ve(),ke("div",{class:"detail-page",ref_key:"pageRef",ref:s,onScrollPassive:a},[c(be,{class:"swipe",autoplay:3e3,"indicator-color":"#ff7a00"},{default:fe(()=>[(ve(!0),ke($e,null,Ne(r.value.images,(h,P)=>(ve(),on(he,{key:P},{default:fe(()=>[g("img",{src:h,class:"swipe-img"},null,8,ya)]),_:2},1024))),128))]),_:1}),g("div",ka,[g("div",wa,[g("div",Ca,V(r.value.name),1),g("div",Sa,[c(Z,{name:"passed",color:"#07c160"}),v[6]||(v[6]=ne(" 已认证 ",-1))])]),g("div",_a,[g("div",xa,[ne(" ¥"+V(u.value)+" ",1),g("span",null,"/ ¥"+V(r.value.targetAmount),1)]),g("div",Ia,V(m.value)+"%",1)]),c(xe,{percentage:m.value,"stroke-width":"8",color:"#ff7a00","pivot-text":""},null,8,["percentage"]),g("div",Ta,V(C.value)+" 人已支持",1)]),g("div",Pa,[v[7]||(v[7]=g("div",{class:"card-title"},"基地介绍",-1)),g("div",Oa,V(r.value.desc),1)]),g("div",Aa,[g("div",Ba,[c(Z,{name:"certificate",color:"#07c160"}),v[8]||(v[8]=ne(" 基地真实性认证 ",-1))]),v[9]||(v[9]=g("div",{class:"verify-row"},[g("span",null,"认证机构"),g("span",null,"XX 市公益动物保护协会")],-1)),v[10]||(v[10]=g("div",{class:"verify-row"},[g("span",null,"备案编号"),g("span",null,"GY-2024-0821")],-1)),v[11]||(v[11]=g("div",{class:"verify-tip"},"平台已对基地主体、救助能力进行人工审核",-1)),g("div",{class:"verify-link",onClick:W},"查看认证详情 →")]),g("div",Ea,[v[12]||(v[12]=g("div",{class:"card-title"},"支持记录",-1)),c(ye,{loading:f.value,"onUpdate:loading":v[0]||(v[0]=h=>f.value=h),finished:d.value,"finished-text":"没有更多了",onLoad:k},{default:fe(()=>[(ve(!0),ke($e,null,Ne(i.value,(h,P)=>(ve(),ke("div",{key:P,class:"support-item"},[g("img",{src:h.avatar,class:"avatar"},null,8,Va),g("div",Ra,[g("div",za,[g("span",La,V(h.nickname),1),g("span",Ma,"Lv"+V(h.level),1),g("span",$a,"¥"+V(h.amount),1)]),g("div",pa,V(h.comment),1)])]))),128))]),_:1},8,["loading","finished"])]),v[20]||(v[20]=g("div",{class:"van-safe-area-bottom"},null,-1)),We(g("div",{class:"back-top",onClick:b},[c(Z,{name:"arrow-up"})],512),[[Xe,l.value]]),g("div",Da,[c(ce,{type:"warning",round:"",block:"",onClick:v[1]||(v[1]=h=>w.value=!0)},{default:fe(()=>[...v[13]||(v[13]=[ne(" 支持一下 ",-1)])]),_:1})]),c(y,{show:w.value,"onUpdate:show":v[5]||(v[5]=h=>w.value=h),position:"bottom",style:{height:"60%"},round:""},{default:fe(()=>[g("div",Ka,[g("div",Na,[v[16]||(v[16]=g("div",{class:"popup-title"},"支持基地",-1)),g("div",ja,[v[14]||(v[14]=ne(" 我的积分：",-1)),g("b",null,V(se.value),1)]),(ve(!0),ke($e,null,Ne(U.value,h=>(ve(),ke("div",{key:h.key,class:et(["reward",{active:z.value===h.key}]),onClick:P=>je(L)(h)},[g("div",null,[g("div",Fa,V(h.label),1),g("div",Ua," ≈ "+V(h.foodKg)+"kg "+V(h.foodType),1)]),g("div",{class:"count",onClick:v[2]||(v[2]=Ye(()=>{},["stop"]))},[c(Z,{name:"minus",class:et({disabled:h.count<=1}),onClick:Ye(P=>je(p)(h,-1),["stop"])},null,8,["class","onClick"]),g("span",null,V(h.count),1),c(Z,{name:"plus",onClick:Ye(P=>je(p)(h,1),["stop"])},null,8,["onClick"])])],10,Ya))),128)),c(Ie,{modelValue:S.value,"onUpdate:modelValue":v[3]||(v[3]=h=>S.value=h),type:"textarea",rows:"2",autosize:"",placeholder:"说点鼓励的话（可选）"},null,8,["modelValue"]),g("div",{class:"agreement",ref_key:"agreementRef",ref:N},[c(Te,{modelValue:A.value,"onUpdate:modelValue":v[4]||(v[4]=h=>A.value=h),"checked-color":"#fb976d"},{default:fe(()=>[...v[15]||(v[15]=[ne(" 我已阅读并同意 ",-1),g("span",{class:"link"},"《公益支持协议》",-1)])]),_:1},8,["modelValue"])],512)]),g("div",Ga,[g("div",Wa,[v[18]||(v[18]=g("div",{class:"donate-label"},"合计支持",-1)),g("div",Xa,[v[17]||(v[17]=ne(" ¥",-1)),g("span",null,V(T.value),1)])]),c(ce,{class:"donate-btn",type:"warning",round:"",onClick:G},{default:fe(()=>[...v[19]||(v[19]=[ne(" 确认支持 ",-1)])]),_:1})])])]),_:1},8,["show"])],544)}}},Qa=nn(qa,[["__scopeId","data-v-c575bc2c"]]);export{Qa as default};
