import{s as O,u as z}from"./mount-component-CkNpGbrx.js";import{w as S,c as V,d as G,Q as P,O as I,R as _,r as R,k as h,a as m,t as y,S as w,I as D,P as C,U as E,y as T,V as U,W as $,X as F}from"./index-Br-VGAfa.js";const Y=S(O),[K]=V("checkbox-group"),N=Symbol(K),B={name:P,disabled:Boolean,iconSize:I,modelValue:P,checkedColor:String,labelPosition:String,labelDisabled:Boolean};var X=G({props:_({},B,{bem:w(Function),role:String,shape:String,parent:Object,checked:Boolean,bindGroup:y,indeterminate:{type:Boolean,default:null}}),emits:["click","toggle"],setup(e,{emit:s,slots:r}){const t=R(),c=n=>{if(e.parent&&e.bindGroup)return e.parent.props[n]},a=h(()=>{if(e.parent&&e.bindGroup){const n=c("disabled")||e.disabled;if(e.role==="checkbox"){const u=c("modelValue").length,i=c("max"),b=i&&u>=+i;return n||b&&!e.checked}return n}return e.disabled}),f=h(()=>c("direction")),l=h(()=>{const n=e.checkedColor||c("checkedColor");if(n&&(e.checked||e.indeterminate)&&!a.value)return{borderColor:n,backgroundColor:n}}),d=h(()=>e.shape||c("shape")||"round"),k=n=>{const{target:u}=n,i=t.value,b=i===u||i?.contains(u);!a.value&&(b||!e.labelDisabled)&&s("toggle"),s("click",n)},v=()=>{var n,u;const{bem:i,checked:b,indeterminate:x}=e,g=e.iconSize||c("iconSize");return m("div",{ref:t,class:i("icon",[d.value,{disabled:a.value,checked:b,indeterminate:x}]),style:d.value!=="dot"?{fontSize:C(g)}:{width:C(g),height:C(g),borderColor:(n=l.value)==null?void 0:n.borderColor}},[r.icon?r.icon({checked:b,disabled:a.value}):d.value!=="dot"?m(D,{name:x?"minus":"success",style:l.value},null):m("div",{class:i("icon--dot__icon"),style:{backgroundColor:(u=l.value)==null?void 0:u.backgroundColor}},null)])},o=()=>{const{checked:n}=e;if(r.default)return m("span",{class:e.bem("label",[e.labelPosition,{disabled:a.value}])},[r.default({checked:n,disabled:a.value})])};return()=>{const n=e.labelPosition==="left"?[o(),v()]:[v(),o()];return m("div",{role:e.role,class:e.bem([{disabled:a.value,"label-disabled":e.labelDisabled},f.value]),tabindex:a.value?void 0:0,"aria-checked":e.checked,onClick:k},[n])}}});const[j,q]=V("checkbox"),H=_({},B,{shape:String,bindGroup:y,indeterminate:{type:Boolean,default:null}});var L=G({name:j,props:H,emits:["change","update:modelValue"],setup(e,{emit:s,slots:r}){const{parent:t}=E(N),c=l=>{const{name:d}=e,{max:k,modelValue:v}=t.props,o=v.slice();if(l)!(k&&o.length>=+k)&&!o.includes(d)&&(o.push(d),e.bindGroup&&t.updateValue(o));else{const n=o.indexOf(d);n!==-1&&(o.splice(n,1),e.bindGroup&&t.updateValue(o))}},a=h(()=>t&&e.bindGroup?t.props.modelValue.indexOf(e.name)!==-1:!!e.modelValue),f=(l=!a.value)=>{t&&e.bindGroup?c(l):s("update:modelValue",l),e.indeterminate!==null&&s("change",l)};return T(()=>e.modelValue,l=>{e.indeterminate===null&&s("change",l)}),z({toggle:f,props:e,checked:a}),U(()=>e.modelValue),()=>m(X,F({bem:q,role:"checkbox",parent:t,checked:a.value,onToggle:f},e),$(r,["default","icon"]))}});const A=S(L);export{A as C,Y as T};
